{
  "hash": "c7db2fa22e5a8e60dae47db29774717f",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Properties of estimators\"\nauthor: \"Prof. Maria Tackett\"\ndate: \"2024-09-26\"\ndate-format: \"MMM DD, YYYY\"\nfooter: \"[ðŸ”— STA 221 - Fall 2024](https://sta221-fa24.netlify.app)\"\nlogo: \"../images/logo.png\"\nformat: \n  revealjs:\n    theme: slides.scss\n    multiplex: false\n    transition: fade\n    slide-number: true\n    incremental: false \n    chalkboard: true\n    include-before: [ '<script type=\"text/x-mathjax-config\">MathJax.Hub.Config({tex2jax: {enableAssistiveMml: false}});</script>']\nhtml-math-method:\n  method: mathjax\n  url: \"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\"\nexecute:\n  freeze: auto\n  echo: true\nknitr:\n  opts_chunk: \n    R.options:      \n    width: 200\nfilters:\n  - parse-latex\nbibliography: references.bib\n---\n\n\n\n\n\n## Announcements\n\n-   Project\n\n    -   Research questions due **TODAY**\n\n    -   Proposal due Thursday, October 3 at 11:59pm\n\n-   Lab 03 due Thursday, October 3 at 11:59pm\n\n-   HW 02 due Thursday, October 3 at 11:59pm (released after class)\n\n-   [Statistics experience](https://sta221-fa24.netlify.app/hw/stats-experience) due **Tue, Nov 26 at 11:59pm**\n\n## Topics\n\n-   Compute and interpret confidence interval for a single coefficient\n\n-   Properties of $\\hat{\\boldsymbol{\\beta}}$\n\n-   Define \"linear\" model\n\n## Computing setup\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n# load packages\nlibrary(tidyverse)  \nlibrary(tidymodels)  \nlibrary(knitr)       \nlibrary(kableExtra)  \nlibrary(patchwork)   \n\n# set default theme in ggplot2\nggplot2::theme_set(ggplot2::theme_bw())\n```\n:::\n\n\n\n## Data: NCAA Football expenditures {.midi}\n\nToday's data come from [Equity in Athletics Data Analysis](https://ope.ed.gov/athletics/#/datafile/list) and includes information about sports expenditures and revenues for colleges and universities in the United States. This data set was featured in a [March 2022 Tidy Tuesday](https://github.com/rfordatascience/tidytuesday/blob/master/data/2022/2022-03-29/readme.md).\n\nWe will focus on the 2019 - 2020 season expenditures on football for institutions in the NCAA - Division 1 FBS. The variables are :\n\n-   `total_exp_m`: Total expenditures on football in the 2019 - 2020 academic year (in millions USD)\n\n-   `enrollment_th`: Total student enrollment in the 2019 - 2020 academic year (in thousands)\n\n-   `type`: institution type (Public or Private)\n\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n:::\n\n\n\n```{}\n```\n\n## Regression model\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nexp_fit <- lm(total_exp_m ~ enrollment_th + type, data = football)\ntidy(exp_fit) |>\n  kable(digits = 3)\n```\n\n::: {.cell-output-display}\n\n\n|term          | estimate| std.error| statistic| p.value|\n|:-------------|--------:|---------:|---------:|-------:|\n|(Intercept)   |   19.332|     2.984|     6.478|       0|\n|enrollment_th |    0.780|     0.110|     7.074|       0|\n|typePublic    |  -13.226|     3.153|    -4.195|       0|\n\n\n:::\n:::\n\n\n\n## Inference for $\\beta_j$ {.midi}\n\nWe often want to conduct inference on individual model coefficients\n\n-   **Hypothesis test:** Is there a linear relationship between the response and $x_j$?\n\n-   **Confidence interval**: What is a plausible range of values $\\beta_j$ can take?\n\n# Confidence interval for $\\beta_j$\n\n## Confidence interval for $\\beta_j$ {.midi}\n\n::: incremental\n-   A plausible range of values for a population parameter is called a **confidence interval**\n\n-   Using only a single point estimate is like fishing in a murky lake with a spear, and using a confidence interval is like fishing with a net\n\n    -   We can throw a spear where we saw a fish but we will probably miss, if we toss a net in that area, we have a good chance of catching the fish\n\n    -   Similarly, if we report a point estimate, we probably will not hit the exact population parameter, but if we report a range of plausible values we have a good shot at capturing the parameter\n:::\n\n## What \"confidence\" means {.midi}\n\n::: incremental\n-   We will construct $C\\%$ confidence intervals.\n\n    -   The confidence level impacts the width of the interval\n\n<br>\n\n-   \"Confident\" means if we were to take repeated samples of the same size as our data, fit regression lines using the same predictors, and calculate $C\\%$ CIs for the coefficient of $x_j$, then $C\\%$ of those intervals will contain the true value of the coefficient $\\beta_j$\n\n<br>\n\n-   Balance precision and accuracy when selecting a confidence level\n:::\n\n## Confidence interval for $\\beta_j$\n\n$$\n\\text{Estimate} \\pm \\text{ (critical value) } \\times \\text{SE}\n$$\n\n<br>\n\n. . .\n\n$$\n\\hat{\\beta}_1 \\pm t^* \\times SE({\\hat{\\beta}_j})\n$$\n\nwhere $t^*$ is calculated from a $t$ distribution with $n-p-1$ degrees of freedom\n\n## Computing $t^*$ in R\n\n::: {.fragment fragment-index=\"1\"}\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n# confidence level: 95%\nqt(0.975, df = nrow(football) - 2 - 1)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1.97928\n```\n\n\n:::\n:::\n\n\n:::\n\n<br>\n\n::: {.fragment fragment-index=\"2\"}\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n# confidence level: 90%\nqt(0.95, df = nrow(football) - 2 - 1)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1.657235\n```\n\n\n:::\n:::\n\n\n:::\n\n<br>\n\n::: {.fragment fragment-index=\"3\"}\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n# confidence level: 99%\nqt(0.995, df = nrow(football) - 2 - 1)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 2.61606\n```\n\n\n:::\n:::\n\n\n:::\n\n## 95% CI for coefficient of enrollment\n\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n\n\n|term          | estimate| std.error| statistic| p.value|\n|:-------------|--------:|---------:|---------:|-------:|\n|(Intercept)   |   19.332|     2.984|     6.478|       0|\n|enrollment_th |    0.780|     0.110|     7.074|       0|\n|typePublic    |  -13.226|     3.153|    -4.195|       0|\n\n\n:::\n:::\n\n\n\n<br>\n\n. . .\n\n$$\n\\hat{\\beta}_j \\pm t^* \\times SE(\\hat{\\beta}_j)\n$$\n\n. . .\n\n$$\n0.7804 \\pm 1.9793 \\times 0.1103\n$$\n\n. . .\n\n$$\n[0.562, 0.999]\n$$\n\n## Interpreting the CI\n\n<!--# Make Ed Discussion post-->\n\n<!--# Best interpretation: Interpretation: We are 95% confident that for each additional 1,000 students enrolled, the institution's expenditures on football will be greater by $562,000 to $999,000, on average, holding institution type constant.-->\n\n## Computing CI in R\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-line-numbers=\"1\"}\ntidy(exp_fit, conf.int = TRUE, conf.level = 0.95) |> \n  kable(digits = 3)\n```\n\n::: {.cell-output-display}\n\n\n|term          | estimate| std.error| statistic| p.value| conf.low| conf.high|\n|:-------------|--------:|---------:|---------:|-------:|--------:|---------:|\n|(Intercept)   |   19.332|     2.984|     6.478|       0|   13.426|    25.239|\n|enrollment_th |    0.780|     0.110|     7.074|       0|    0.562|     0.999|\n|typePublic    |  -13.226|     3.153|    -4.195|       0|  -19.466|    -6.986|\n\n\n:::\n:::\n\n\n\n# Properties of $\\hat{\\boldsymbol{\\beta}}$ \n\n## Motvation\n\n-   We have discussed how to use least squares to find an estimator of $\\hat{\\boldsymbol{\\beta}}$\n\n-   How do we know whether our least squares estimator is a \"good\" estimator?\n\n-   When we consider what makes an estimator \"good\", we'll look at three criteria:\n\n    -   Bias\n\n    -   Variance\n\n    -   Mean squared error\n\n-   We'll take a look at these over the course of a few lectures and motivate why we might prefer using least squares to compute $\\hat{\\boldsymbol{\\beta}}$ versus other methods\n\n## Bias and variance\n\nSuppose you are throwing darts at a target\n\n::: columns\n::: {.column width=\"50%\"}\n<!--# find image of dart-->\n:::\n\n::: {.column width=\"50%\"}\n-   **Unbiased**: Darts spread around the target\n\n-   **Biased**: Darts systematically away from the target\n\n-   **Variance**: Darts could be widely spread (high variance) or generally clustered together (low variance)\n:::\n:::\n\n## Bias and variance\n\n-   **Ideal scenario**: Darts are clustered around the target (unbiaseds and low variance)\n\n-   **Worst case scenario**: Darts are widely spread out and systematically far from the target (high bias and high variance)\n\n-   **Acceptable scenario:** There's some tradeoff between the bias and variance. For example, it may be acceptable for the darts to be clustered around a point that is close to the target (low bias and low variance)\n\n## Bias and variance in estimator\n\nI Each time we take a sample, we compute the MLE for the\nparameters of interest. (We shoot an arrow at the target.)\nI Suppose we could take many independent samples over and\nover again and compute the MLE in each.\nI Ideally, the collection of MLE values are centered at the true\nparameter. (We are unbiased shooters.)\nI Even better, the collection of MLE values are clustered around\nthe true parameter. (We are unbiased shooters with low\nvariance.)\nI It would be bad news if the MLE values tended not to estimate\nthe true parameter and were diâ†µusely spread. (We are biased\nshooters with high variance.\n\n<!--# show distribution of beta-hat-->\n\n## $E(\\hat{\\boldsymbol{\\beta}})$ \n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}