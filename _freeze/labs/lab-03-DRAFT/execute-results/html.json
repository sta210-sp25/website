{
  "hash": "5bc1ba8b2fa9f0f2cc46849918b9c916",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Lab 03: Inference for regression\"\nsubtitle: \"Palmer penguins\"\nexecute:\n  freeze: auto\n  echo: true\n  eval: false\n  warning: false\n  message: false\nformat: html\n---\n\n\n\n::: callout-important\n# Due date\n\nThis lab is due on **Thursday, October 4 at 11:59pm.** To be considered on time, the following must be done by the due date:\n\n-   Final `.qmd` and `.pdf` files pushed to your team's GitHub repo\n\n-   Final `.pdf` file submitted on Gradescope\n:::\n\n# Introduction\n\nIn this lab you will use linear regression and statistical inference to draw conclusions about penguins living in Palmer Archipelago in Antarctica. You will also use the data to check conditions about the distribution of the model residuals.\n\nDuring the lab session, you will also begin developing research questions for your final project.\n\n# **Learning goals**\n\nBy the end of the lab you will be able to…\n\n<!--# UPDATE-->\n\n# **Getting started**\n\n-   A repository has already been created for you and your teammates. Everyone in your team has access to the same repo.\n\n-   Go to the [sta221-fa24](https://github.com/sta221-fa24) organization on GitHub. Click on the repo with the prefix **lab-03**. It contains the starter documents you need to complete the lab.\n\n-   Each person on the team should clone the repository and open a new project in RStudio. Throughout the lab, each person should get a chance to make commits and push to the repo.\n\n# **Workflow: Using Git and GitHub as a team**\n\n::: callout-important\nThere are no Team Member markers in this lab; however, you should use a similar workflow as in Lab 04. Only one person should type in the group’s .qmd file at a time. Once that person has finished typing the group’s responses, they should *render, commit, and push* the changes to GitHub. All other teammates can *pull* to see the updates in RStudio.\n\nEvery teammate must have at least one commit in the lab. Everyone is expected to contribute to discussion even when they are not typing.\n:::\n\n# Packages\n\nYou will use the following packages in today’s lab. Add other packages as needed.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(tidymodels)\nlibrary(knitr)\nlibrary(palmerpenguins) #penguins data frame\n```\n:::\n\n\n\n## Data\n\nToday's data information about characteristics of three species of penguins living in Palmer Archipelago in Antarctica. The data were collected and made available by [Dr. Kristen Gorman](https://www.uaf.edu/cfos/people/faculty/detail/kristen-gorman.php) and the [Palmer Station, Antarctica LTER](https://pal.lternet.edu/), a member of the [Long Term Ecological Research Network](https://lternet.edu/). ([Gorman, Williams, and Fraser 2014](https://sta210-fa22.netlify.app/hw/hw-02#ref-gorman2014)).\n\nThe data are in the `penguins` data frame in the **palmerpenguins** R package. This analysis will focus on two variables:\n\n-   `body_mass_g`: body mass in grams\n\n-   `flipper_length_mm`: flipper length in millimeters\n\n-   `species`: penguin species (Adélie, Chinstrap and Gentoo)\n\n[Click here](https://allisonhorst.github.io/palmerpenguins/reference/penguins.html) to see the full data dictionary.\n\n## Exercises\n\n**Goal:** The goal of this analysis is to use linear regression to draw conclusions about the relationship between penguins' flipper length and body mass, while accounting for species.\n\n::: callout-important\nWrite all code and narrative in your Quarto file. Write all narrative in complete sentences. Make sure the teaching team can read all of your code in your PDF document. This means you will need to break up long lines of code. One way to help avoid long lines of code is is start a new line after every pipe (`|>`) and plus sign (`+`).\n:::\n\n## Exercise 1\n\n<!--# add something about removing points with missing data-->\n\nLet's begin by exploring the relationship between between flipper length and body mass, while accounting for species.\n\n-   Visualize the relationship between flipper length and body mass. Then describe the relationship.\n-   Fit the main effects linear regression model (no interaction term) between these variables. Neatly display the results using three digits.\n-   Interpret the coefficient of flipper length in the context of the data.\n\n## Exercise 2\n\nNow let's look at the assumptions underlying the regression model. Consider the linear regression model\\\n$$ \\mathbf{y} = \\mathbf{X}\\boldsymbol{\\beta} + \\boldsymbol{\\epsilon}, \\quad \\boldsymbol{\\epsilon} \\sim \\mathcal{N}(0, \\sigma^2 \\mathbf{I}_n) $$ {#eq-ols}\n\nand let $\\hat{\\boldsymbol{\\beta}} = (\\mathbf{X}^T\\mathbf{X})^{-1} \\mathbf{X}^T \\mathbf{y}$ be the least squares estimator. This model relies on four assumptions:\n\n-   **Linearity:** There is a linear relationship between the response and predictor variables.\n-   **Constant Variance:** The variability about the least squares line is generally constant.\n-   **Normality:** The distribution of the residuals is approximately normal.\n-   **Independence:** The residuals are independent from one another.\n\nFor each condition, state the components of @eq-ols that are used to represent it.\n\n## Exercise 3\n\nWe can visually assess the **linearity** and **constant variance** assumptions by examining a scatterplot of the residuals versus fitted values.\n\n-   Create a scatterplot of the residuals versus fitted values for the model fit in Exercise 1.\n\n-   If there is a linear relationship between the response and predictor variables, no discernible pattern should be present between fitted values and residuals. Does the linearity assumption appear to be satisfied?\n\n-   Briefly explain why no discernible pattern in the plot of residuals versus fitted would indicate the linearity condition is satisfied.\n\n## Exercise 4\n\nIf errors have constant variance, we would expect the variability the of residuals about their mean to be approximately equal as the fitted value increases. Does the constant variance assumption appear to be satisfied? Briefly explain.\n\n## Exercise 5\n\nNext, let's assess the conditions about the distribution fo the residuals. Under the normality assumption, the residuals are expected to be normally distributed. Visualize the distribution of the residuals. Does the normality condition appear to be satisfied? Briefly explain.\n\n## Exercise 6\n\nThe last assumption is that the residuals are independent of one another. Do you think it's reasonable to assume the independence of residuals in this analysis? Briefly explain.\n\n## Exercise 7\n\nNow let's set up the test of whether the flipper length has a statistically significant effect on body mass in this model.\n\n-   Write the null and alternative hypotheses in words and in mathematical notation.\n\n-   Write the equation of the test statistic specifically for this problem.\n\n-   State the distribution of the test statistic under the null hypothesis.\n\n## Exercise 8\n\nIn the regression output from Exercise 1, you are provided the $p$-value for the test of significance of each individual coefficient.\n\n-   Interpret the p-value in the context of these data.\n\n-   Then use the p-value and a decision-making threshold of $\\alpha = 0.5$ to draw a conclusion. State your conclusion in the context of the data.\n\n## Exercise 9\n\nNow let's construct the 95% confidence interval for the coefficient of flipper length.\n\n-   Write the general formula for the 95% confidence interval.\n\n-   Use `R` functions to compute all the quantities you need for the interval, then calculate the interval.\n\n-   Interpret the interval in the context of the data.\n\n## Exercise 10\n\n\\[Something about writing the questions for the project.\\]\n\n# Submission\n\nYou will submit the PDF documents for labs, homework, and exams in to Gradescope as part of your final submission.\n\n::: callout-warning\nBefore you wrap up the assignment, make sure all documents are updated on your GitHub repo. We will be checking these to make sure you have been practicing how to commit and push changes.\n\nRemember – you must turn in a PDF file to the Gradescope page before the submission deadline for full credit.\n:::\n\nTo submit your assignment:\n\n-   Access Gradescope through the menu on the [STA 221 Canvas site.](https://canvas.duke.edu/courses/38867)\n\n-   Click on the assignment, and you’ll be prompted to submit it.\n\n-   Select all team members’ names, so they receive credit on the assignment. [Click here](https://help.gradescope.com/article/m5qz2xsnjy-student-add-group-members) for video on adding team members to assignment on Gradescope.\n\n-   Mark the pages associated with each exercise. All of the pages of your lab should be associated with at least one question (i.e., should be “checked”).\n\n-   Select the first page of your .PDF submission to be associated with the *“Workflow & formatting”* section.\n\n# Grading\n\n| Component             | Points |\n|:----------------------|:-------|\n| Ex 1                  |        |\n| Ex 2                  |        |\n| Ex 3                  |        |\n| Ex 4                  |        |\n| Ex 5                  |        |\n| Ex 6                  |        |\n| Ex 7                  |        |\n| Ex 8                  |        |\n| Ex 9                  |        |\n| Ex 10                 |        |\n| Workflow & formatting |        |\n\nThe “Workflow & formatting” grade is to assess the reproducible workflow and collaboration. This includes having at least one meaningful commit from each team member and updating the team name and date in the YAML.\n",
    "supporting": [
      "lab-03-draft_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}