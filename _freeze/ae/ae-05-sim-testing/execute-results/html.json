{
  "hash": "3cb11ad6b4004c7014a25b4da9fe0ab0",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"AE 05: Permutation test for the slope\"\nsubtitle: \"Houses in Duke Forest\"\ndate: \"January 23, 2025\"\neditor: visual\n---\n\n\n\n::: callout-important\nGo to the [course GitHub organization](https://github.com/sta210-sp25) and locate your `ae-05` repo to get started.\n\nRender, commit, and push your responses to GitHub by the end of class.\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(tidymodels)\nlibrary(openintro)\nlibrary(knitr)\n```\n:::\n\n\n\n## Data\n\nThe data are on houses that were sold in the Duke Forest neighborhood of Durham, NC around November 2020. It was originally scraped from Zillow, and can be found in the `duke_forest` data set in the **openintro** R package.\n\n**Goal: Use statistical inference to evaluate whether there is a relationship between the age of the house at time of sale and its price.**\n\n## Exploratory data analysis\n\nLet's begin by creating a new variable that is the age of the house in 2020.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nduke_forest <- duke_forest |>\n  mutate(age_2020 = 2020 - year_built)\n```\n:::\n\n\n\nNow let's visualize the relationship between the age of the house in 2020 and the sales price.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(duke_forest, aes(x = age_2020, y = price)) +\n  geom_point(alpha = 0.7) +\n  labs(\n    x = \"Age in 2020 (years)\",\n    y = \"Sale price (USD)\",\n    title = \"Price and age of houses in Duke Forest\"\n  ) +\n  scale_y_continuous(labels = label_dollar()) \n```\n\n::: {.cell-output-display}\n![](ae-05-sim-testing_files/figure-html/scatterplot-1.png){width=672}\n:::\n:::\n\n\n\n## Model\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_fit <- lm(price ~ age_2020, data = duke_forest)\n\ntidy(df_fit) |>\n  kable(digits = 3)\n```\n\n::: {.cell-output-display}\n\n\n|term        |   estimate| std.error| statistic| p.value|\n|:-----------|----------:|---------:|---------:|-------:|\n|(Intercept) | 690891.015| 68637.793|    10.066|   0.000|\n|age_2020    |  -2473.935|  1225.191|    -2.019|   0.046|\n\n\n:::\n:::\n\n\n\n## Hypothesis test\n\n::: callout-tip\nFor code chunks with fill-in-the-blank code, change code chunk option to `#| eval: true` once you've filled in the code.\n:::\n\n### State the null and alternative hypotheses\n\nWrite the null and alternative hypotheses in words and mathematical notation.\n\n### Generate null distribution using permutation\n\nFill in the code, then set `eval: true` .\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nn = 100\nset.seed(01232025)\n\nnull_dist <- _____ |>\n  specify(______) |>\n  hypothesize(null = \"independence\") |>\n  generate(reps = _____, type = \"permute\") |>\n  fit()\n```\n:::\n\n\n\n### Visualize distribution\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Code for histogram of null distribution\n```\n:::\n\n\n\n### Calculate the p-value.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# get observed fit \nobserved_fit <- duke_forest |>\n  specify(price ~ age_2020) |>\n  fit()\n\n# calculate p-value\nget_p_value(\n  ____,\n  obs_stat = ____,\n  direction = \"two-sided\"\n)\n```\n:::\n\n\n\n### State conclusion\n\nWrite your conclusion in the context of the data. You can use 0.05 as the decision-making threshold.\n\n## Bootstrap CI (time permitting)\n\n### Construct the bootstrap CI\n\nConstruct a 95% bootstrap confidence interval.\n\n\n\n::: {.cell}\n\n:::\n\n\n\n### Draw conclusion \n\n-   Interpret the interval in the context of the data.\n\n-   Is the interval consistent with the conclusion from your hypothesis test? Briefly explain why or why not.\n\n::: callout-important\nTo submit the AE:\n\n-   Render the document to produce the PDF with all of your work from today's class.\n-   Push all your work to your `ae-05` repo on GitHub. (You do not submit AEs on Gradescope).\n:::\n",
    "supporting": [
      "ae-05-sim-testing_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}