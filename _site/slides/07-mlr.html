<!DOCTYPE html>
<html lang="en"><head>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.6.42">

  <meta name="author" content="Prof.&nbsp;Maria Tackett">
  <title>STA 210 - Spring 2025 – Multiple linear regression (MLR)</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto-2e30c06a808d4935ead2d71e8fb1a1b3.css">
  <link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script src="../site_libs/kePrint-0.0.1/kePrint.js"></script>
  <link href="../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">
</head>
<body class="quarto-light">
<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {enableAssistiveMml: false}});</script>
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Multiple linear regression (MLR)</h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Prof.&nbsp;Maria Tackett 
</div>
</div>
</div>

  <p class="date">Jan 30, 2025</p>
</section>
<section id="announcements" class="slide level2 midi">
<h2>Announcements</h2>
<ul>
<li>Lab 01 due <strong>TODAY</strong> at 11:59pm</li>
<li>Team labs start on Monday</li>
<li><a href="https://prodduke.sharepoint.com/:p:/s/ARCStaff839/EZ4PKTRTlCVMpFZiR6XoRycB4UUlRMuI2_Rda9hKxNZtsA">Click here</a> to learn more about the Academic Resource Center</li>
<li><a href="../hw/stats-experience.html">Statistics experience</a> due Tuesday, April 15</li>
</ul>
</section>
<section id="computational-setup" class="slide level2">
<h2>Computational setup</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a></a><span class="co"># load packages</span></span>
<span id="cb1-2"><a></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-3"><a></a><span class="fu">library</span>(tidymodels)</span>
<span id="cb1-4"><a></a><span class="fu">library</span>(openintro)</span>
<span id="cb1-5"><a></a><span class="fu">library</span>(patchwork)</span>
<span id="cb1-6"><a></a><span class="fu">library</span>(knitr)</span>
<span id="cb1-7"><a></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb1-8"><a></a><span class="fu">library</span>(colorblindr)</span>
<span id="cb1-9"><a></a><span class="fu">library</span>(palmerpenguins)</span>
<span id="cb1-10"><a></a></span>
<span id="cb1-11"><a></a><span class="co"># set default theme and larger font size for ggplot2</span></span>
<span id="cb1-12"><a></a>ggplot2<span class="sc">::</span><span class="fu">theme_set</span>(ggplot2<span class="sc">::</span><span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">16</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section>
<section id="considering-multiple-variables" class="title-slide slide level1 center">
<h1>Considering multiple variables</h1>

</section>
<section id="data-palmer-penguins" class="slide level2 midi">
<h2>Data: Palmer penguins</h2>
<p>The <code>penguins</code> data set contains data for penguins found on three islands in the Palmer Archipelago, Antarctica. Data were collected and made available by <a href="https://www.uaf.edu/cfos/people/faculty/detail/kristen-gorman.php">Dr.&nbsp;Kristen Gorman</a> and the <a href="https://pal.lternet.edu/">Palmer Station, Antarctica LTER</a>, a member of the <a href="https://lternet.edu/">Long Term Ecological Research Network</a>. These data can be found in the <strong>palmerpenguins</strong> R package.</p>
<div class="fragment">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 342 × 4
   body_mass_g flipper_length_mm bill_length_mm species
         &lt;int&gt;             &lt;int&gt;          &lt;dbl&gt; &lt;fct&gt;  
 1        3750               181           39.1 Adelie 
 2        3800               186           39.5 Adelie 
 3        3250               195           40.3 Adelie 
 4        3450               193           36.7 Adelie 
 5        3650               190           39.3 Adelie 
 6        3625               181           38.9 Adelie 
 7        4675               195           39.2 Adelie 
 8        3475               193           34.1 Adelie 
 9        4250               190           42   Adelie 
10        3300               186           37.8 Adelie 
# ℹ 332 more rows</code></pre>
</div>
</div>
</div>
</section>
<section id="variables" class="slide level2">
<h2>Variables</h2>
<p><strong>Predictors</strong>:</p>
<ul>
<li><code>bill_length_mm</code>: Bill length in millimeters</li>
<li><code>flipper_length_mm</code>: Flipper length in millimeters</li>
<li><code>species</code>: Adelie, Gentoo, or Chinstrap species</li>
</ul>
<p><strong>Response</strong>: <code>body_mass_g</code>: Body mass in grams</p>
<p><br></p>
<p><strong>The goal of this analysis is to use the bill length, flipper length, and species to predict body mass.</strong></p>
</section>
<section id="response-body_mass_g" class="slide level2">
<h2>Response: <code>body_mass_g</code></h2>

<img data-src="07-mlr_files/figure-revealjs/unnamed-chunk-2-1.png" width="960" class="r-stretch"><div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: right;">min</th>
<th style="text-align: right;">median</th>
<th style="text-align: right;">max</th>
<th style="text-align: right;">iqr</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">2700</td>
<td style="text-align: right;">4050</td>
<td style="text-align: right;">6300</td>
<td style="text-align: right;">1200</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="predictors" class="slide level2 small">
<h2>Predictors</h2>

<img data-src="07-mlr_files/figure-revealjs/unnamed-chunk-4-1.png" style="width:100.0%" class="r-stretch"></section>
<section id="response-vs.-predictors" class="slide level2 small">
<h2>Response vs.&nbsp;predictors</h2>

<img data-src="07-mlr_files/figure-revealjs/unnamed-chunk-5-1.png" width="960" class="r-stretch"><div class="fragment">
<div class="question">
<p>Why do we want to use a single model with all the predictors instead of 3 separate models?</p>
</div>
</div>
</section></section>
<section>
<section id="multiple-linear-regression" class="title-slide slide level1 center">
<h1>Multiple linear regression</h1>

</section>
<section id="multiple-linear-regression-mlr" class="slide level2">
<h2>Multiple linear regression (MLR)</h2>
<p>Based on the analysis goals, we will use a <strong>multiple linear regression</strong> model of the following form</p>
<p><span class="math display">\[
\begin{aligned}\widehat{\text{body_mass_g}} ~ =
\hat{\beta}_0 &amp; + \hat{\beta}_1 \times \text{flipper_length_mm} \\ &amp; + \hat{\beta}_2 \times  \text{species}_1  \\
&amp;+\hat{\beta}_3 \times \text{species}_2  \\ &amp;+ \hat{\beta}_4 \times \text{bill_length_mm}
\end{aligned}
\]</span></p>
<p>Similar to simple linear regression, this model assumes that at each combination of the predictor variables, the values <code>body_mass_g</code> follow a Normal distribution.</p>
</section>
<section id="multiple-linear-regression-1" class="slide level2">
<h2>Multiple linear regression</h2>
<p><strong>Recall:</strong> The simple linear regression model assumes</p>
<p><span class="math display">\[
Y|X\sim N(\beta_0 + \beta_1 X, \sigma_{\epsilon}^2)
\]</span></p>
<div class="fragment">
<p><strong>Similarly:</strong> The multiple linear regression model assumes</p>
<p><span class="math display">\[
Y|X_1, X_2, \ldots, X_p \sim N(\beta_0 + \beta_1 X_1 + \beta_2 X_2 + \dots + \beta_p X_p, \sigma_{\epsilon}^2)
\]</span></p>
</div>
</section>
<section id="multiple-linear-regression-2" class="slide level2">
<h2>Multiple linear regression</h2>
<p>At any combination of the predictors, the mean value of the response <span class="math inline">\(Y\)</span>, is</p>
<p><span class="math display">\[
E(Y|X_1, \ldots, X_p) = \beta_0 + \beta_1 X_{1} + \beta_2 X_2 + \dots + \beta_p X_p
\]</span></p>
<div class="fragment">
<p>Using multiple linear regression, we can estimate the mean response for any combination of predictors</p>
<p><span class="math display">\[
\hat{Y} = \hat{\beta}_0 + \hat{\beta}_1 X_{1} + \hat{\beta}_2 X_2 + \dots + \hat{\beta}_p X_{p}
\]</span></p>
</div>
</section>
<section id="model-fit" class="slide level2">
<h2>Model fit</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a></a>penguin_fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(body_mass_g <span class="sc">~</span> flipper_length_mm <span class="sc">+</span> species <span class="sc">+</span> </span>
<span id="cb3-2"><a></a>                bill_length_mm, <span class="at">data =</span> penguins)</span>
<span id="cb3-3"><a></a></span>
<span id="cb3-4"><a></a><span class="fu">tidy</span>(penguin_fit) <span class="sc">|&gt;</span></span>
<span id="cb3-5"><a></a>  <span class="fu">kable</span>(<span class="at">digits =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: left;">term</th>
<th style="text-align: right;">estimate</th>
<th style="text-align: right;">std.error</th>
<th style="text-align: right;">statistic</th>
<th style="text-align: right;">p.value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">-3904.387</td>
<td style="text-align: right;">529.257</td>
<td style="text-align: right;">-7.377</td>
<td style="text-align: right;">0.000</td>
</tr>
<tr class="even">
<td style="text-align: left;">flipper_length_mm</td>
<td style="text-align: right;">27.429</td>
<td style="text-align: right;">3.176</td>
<td style="text-align: right;">8.638</td>
<td style="text-align: right;">0.000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">speciesChinstrap</td>
<td style="text-align: right;">-748.562</td>
<td style="text-align: right;">81.534</td>
<td style="text-align: right;">-9.181</td>
<td style="text-align: right;">0.000</td>
</tr>
<tr class="even">
<td style="text-align: left;">speciesGentoo</td>
<td style="text-align: right;">90.435</td>
<td style="text-align: right;">88.647</td>
<td style="text-align: right;">1.020</td>
<td style="text-align: right;">0.308</td>
</tr>
<tr class="odd">
<td style="text-align: left;">bill_length_mm</td>
<td style="text-align: right;">61.736</td>
<td style="text-align: right;">7.126</td>
<td style="text-align: right;">8.664</td>
<td style="text-align: right;">0.000</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="model-equation" class="slide level2">
<h2>Model equation</h2>
<p><span class="math display">\[
\begin{align}\widehat{\text{body_mass_g}} =  -3904.387 &amp;+27.429 \times \text{flipper_length_mm}\\
&amp; -748.562 \times \text{Chinstrap}\\  
&amp;+ 90.435 \times \text{Gentoo}\\
&amp;+ 61.736 \times \text{bill_length_mm}
\end{align}
\]</span></p>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<p>We will talk about why there are two terms in the model for <code>species</code> shortly!</p>
</div>
</div>
</div>
</section>
<section id="interpreting-hatbeta_j" class="slide level2">
<h2>Interpreting <span class="math inline">\(\hat{\beta}_j\)</span></h2>
<ul>
<li>The estimated coefficient <span class="math inline">\(\hat{\beta}_j\)</span> is the expected change in the mean of <span class="math inline">\(Y\)</span> when <span class="math inline">\(X_j\)</span> increases by one unit, <i>holding the values of all other predictor variables constant</i>.</li>
</ul>
<div class="fragment">
<ul>
<li><strong>Example:</strong> The estimated coefficient for <code>flipper_length_mm</code> is 27.429. This means for each additional millimeter in a penguin’s flipper length, its body mass is expected to be greater by 27.429 grams, on average, holding species and bill length constant.</li>
</ul>
</div>
</section>
<section id="prediction" class="slide level2">
<h2>Prediction</h2>
<div class="question">
<p>What is the predicted body mass for a Gentoo penguin with a flipper length of 200 millimeters and bill length of 45 millimeters?</p>
</div>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a></a><span class="sc">-</span><span class="fl">3904.387</span> <span class="sc">+</span> <span class="fl">27.429</span> <span class="sc">*</span> <span class="dv">200</span> <span class="sc">-</span> <span class="fl">748.562</span> <span class="sc">*</span> <span class="dv">0</span> <span class="sc">+</span> <span class="fl">90.435</span> <span class="sc">*</span> <span class="dv">1</span> <span class="sc">+</span> <span class="fl">61.736</span> <span class="sc">*</span> <span class="dv">45</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4449.968</code></pre>
</div>
</div>
<p><br></p>
<div class="fragment">
<p>The predicted body mass for a Gentoo penguin with a flipper length of 200 millimeters and bill length of 45 millimeters is 4449.968 grams.</p>
</div>
</section>
<section id="prediction-revisited" class="slide level2 midi">
<h2>Prediction, revisited</h2>
<p>Just like with simple linear regression, we can use the <code>predict()</code> function in R to calculate the appropriate intervals for our predicted values:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a></a>new_penguin <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb6-2"><a></a>  <span class="at">flipper_length_mm  =</span> <span class="dv">200</span>, </span>
<span id="cb6-3"><a></a>  <span class="at">species =</span> <span class="st">"Gentoo"</span>, </span>
<span id="cb6-4"><a></a>  <span class="at">bill_length_mm =</span> <span class="dv">45</span></span>
<span id="cb6-5"><a></a>)</span>
<span id="cb6-6"><a></a></span>
<span id="cb6-7"><a></a><span class="fu">predict</span>(penguin_fit, new_penguin)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       1 
4449.955 </code></pre>
</div>
</div>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<p>Difference in predicted value due to rounding the coefficients on the previous slide.</p>
</div>
</div>
</div>
</section>
<section id="confidence-interval-for-hatmu_y" class="slide level2">
<h2>Confidence interval for <span class="math inline">\(\hat{\mu}_y\)</span></h2>
<div class="question">
<p>Calculate a 90% confidence interval for the <strong>estimated mean body mass</strong> a Gentoo penguins with a flipper length of 200 millimeters and bill length of 45 millimeters.</p>
</div>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a></a><span class="fu">predict</span>(penguin_fit, new_penguin, <span class="at">interval =</span> <span class="st">"confidence"</span>, </span>
<span id="cb8-2"><a></a>        <span class="at">level =</span> <span class="fl">0.90</span>) <span class="sc">|&gt;</span> </span>
<span id="cb8-3"><a></a>  <span class="fu">kable</span>(<span class="at">digits =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: right;">fit</th>
<th style="text-align: right;">lwr</th>
<th style="text-align: right;">upr</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">4449.955</td>
<td style="text-align: right;">4355.238</td>
<td style="text-align: right;">4544.671</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="prediction-interval-for-haty" class="slide level2">
<h2>Prediction interval for <span class="math inline">\(\hat{y}\)</span></h2>
<div class="question">
<p>Calculate a 90% prediction interval for the <strong>estimated body mass</strong> <strong>for an individual</strong> Gentoo penguin with a flipper length of 200 millimeters and bill length of 45 millimeters.</p>
</div>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a></a><span class="fu">predict</span>(penguin_fit, new_penguin, <span class="at">interval =</span> <span class="st">"prediction"</span>, </span>
<span id="cb9-2"><a></a>        <span class="at">level =</span> <span class="fl">0.90</span>) <span class="sc">|&gt;</span></span>
<span id="cb9-3"><a></a>  <span class="fu">kable</span>(<span class="at">digits =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: right;">fit</th>
<th style="text-align: right;">lwr</th>
<th style="text-align: right;">upr</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">4449.955</td>
<td style="text-align: right;">3881.035</td>
<td style="text-align: right;">5018.875</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="cautions" class="slide level2">
<h2>Cautions</h2>
<ul>
<li><strong>Do not extrapolate!</strong> Because there are multiple predictor variables, there is the potential to extrapolate in many directions</li>
<li>The multiple regression model only shows <strong>association, not causality</strong>
<ul>
<li>To show causality, you must have a carefully designed experiment or carefully account for confounding variables in an observational study</li>
</ul></li>
</ul>
</section></section>
<section id="types-of-predictors" class="title-slide slide level1 center">
<h1>Types of predictors</h1>

</section>

<section>
<section id="categorical-predictors" class="title-slide slide level1 center">
<h1>Categorical predictors</h1>

</section>
<section id="indicator-variables" class="slide level2">
<h2>Indicator variables</h2>
<ul>
<li><p>Suppose there is a categorical variable with <span class="math inline">\(k\)</span> categories (levels)</p></li>
<li><p>We can make <span class="math inline">\(k\)</span> indicator variables - one indicator for each category</p></li>
<li><p>An <strong>indicator variable</strong> takes values 1 or 0</p>
<ul>
<li>1 if the observation belongs to that category</li>
<li>0 if the observation does not belong to that category</li>
</ul></li>
</ul>
</section>
<section id="indicator-variables-for-species" class="slide level2">
<h2>Indicator variables for <code>species</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a></a>penguins <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span></span>
<span id="cb10-2"><a></a>  <span class="fu">mutate</span>(</span>
<span id="cb10-3"><a></a>    <span class="at">adelie =</span> <span class="fu">if_else</span>(species <span class="sc">==</span> <span class="st">"Adelie"</span>, <span class="dv">1</span>, <span class="dv">0</span>),</span>
<span id="cb10-4"><a></a>    <span class="at">chinstrap =</span> <span class="fu">if_else</span>(species <span class="sc">==</span> <span class="st">"Chinstrap"</span>, <span class="dv">1</span>, <span class="dv">0</span>),</span>
<span id="cb10-5"><a></a>    <span class="at">gentoo =</span> <span class="fu">if_else</span>(species <span class="sc">==</span> <span class="st">"Gentoo"</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb10-6"><a></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 4
  species   adelie chinstrap gentoo
  &lt;fct&gt;      &lt;dbl&gt;     &lt;dbl&gt;  &lt;dbl&gt;
1 Adelie         1         0      0
2 Gentoo         0         0      1
3 Chinstrap      0         1      0</code></pre>
</div>
</div>
</div>
</section>
<section id="indicators-in-the-model" class="slide level2 midi">
<h2>Indicators in the model</h2>
<ul>
<li>We will use <span class="math inline">\(k-1\)</span> of the indicator variables in the model.</li>
<li>The <strong>baseline</strong> is the category that doesn’t have a term in the model. This is also called the <em>reference level.</em></li>
<li>The coefficients of the indicator variables in the model are interpreted as the expected change in the response compared to the baseline, holding all other variables constant.</li>
<li>This approach is also called <strong>dummy coding</strong>.</li>
</ul>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb12-2"><a></a>  <span class="fu">select</span>(species, chinstrap, gentoo) <span class="sc">|&gt;</span></span>
<span id="cb12-3"><a></a>  <span class="fu">slice</span>(<span class="dv">1</span>, <span class="dv">152</span>, <span class="dv">283</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  species   chinstrap gentoo
  &lt;fct&gt;         &lt;dbl&gt;  &lt;dbl&gt;
1 Adelie            0      0
2 Gentoo            0      1
3 Chinstrap         1      0</code></pre>
</div>
</div>
</div>
</section>
<section id="interpreting-species" class="slide level2 midi">
<h2>Interpreting <code>species</code></h2>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">term</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">estimate</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">std.error</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">statistic</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">p.value</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">conf.low</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">conf.high</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">-3904.387</td>
<td style="text-align: right;">529.257</td>
<td style="text-align: right;">-7.377</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">-4945.450</td>
<td style="text-align: right;">-2863.324</td>
</tr>
<tr class="even">
<td style="text-align: left;">flipper_length_mm</td>
<td style="text-align: right;">27.429</td>
<td style="text-align: right;">3.176</td>
<td style="text-align: right;">8.638</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">21.182</td>
<td style="text-align: right;">33.675</td>
</tr>
<tr class="odd">
<td style="text-align: left; background-color: rgba(220, 229, 178, 255) !important;">speciesChinstrap</td>
<td style="text-align: right; background-color: rgba(220, 229, 178, 255) !important;">-748.562</td>
<td style="text-align: right; background-color: rgba(220, 229, 178, 255) !important;">81.534</td>
<td style="text-align: right; background-color: rgba(220, 229, 178, 255) !important;">-9.181</td>
<td style="text-align: right; background-color: rgba(220, 229, 178, 255) !important;">0.000</td>
<td style="text-align: right; background-color: rgba(220, 229, 178, 255) !important;">-908.943</td>
<td style="text-align: right; background-color: rgba(220, 229, 178, 255) !important;">-588.182</td>
</tr>
<tr class="even">
<td style="text-align: left; background-color: rgba(220, 229, 178, 255) !important;">speciesGentoo</td>
<td style="text-align: right; background-color: rgba(220, 229, 178, 255) !important;">90.435</td>
<td style="text-align: right; background-color: rgba(220, 229, 178, 255) !important;">88.647</td>
<td style="text-align: right; background-color: rgba(220, 229, 178, 255) !important;">1.020</td>
<td style="text-align: right; background-color: rgba(220, 229, 178, 255) !important;">0.308</td>
<td style="text-align: right; background-color: rgba(220, 229, 178, 255) !important;">-83.937</td>
<td style="text-align: right; background-color: rgba(220, 229, 178, 255) !important;">264.807</td>
</tr>
<tr class="odd">
<td style="text-align: left;">bill_length_mm</td>
<td style="text-align: right;">61.736</td>
<td style="text-align: right;">7.126</td>
<td style="text-align: right;">8.664</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">47.720</td>
<td style="text-align: right;">75.753</td>
</tr>
</tbody>
</table>


</div>
</div>
<div class="fragment">
<div>
<ul>
<li class="fragment">The baseline category is <code>Adelie</code>.</li>
<li class="fragment">Penguins from the Chinstrap species are expected to have a body mass that is 748.562 grams less, on average, compared to penguins from the Adelie species, holding flipper length and bill length constant.</li>
</ul>
</div>
</div>
<div class="fragment">
<div class="question">
<p>Interpret the coefficient of <code>Gentoo</code> in the context of the data.</p>
</div>
</div>
</section></section>
<section>
<section id="transforming-quantitative-predictors" class="title-slide slide level1 center">
<h1>Transforming quantitative predictors</h1>

</section>
<section id="interpreting-the-intercept" class="slide level2 midi">
<h2>Interpreting the intercept</h2>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top" style="width:100%;">
<colgroup>
<col style="width: 23%">
<col style="width: 13%">
<col style="width: 13%">
<col style="width: 13%">
<col style="width: 10%">
<col style="width: 13%">
<col style="width: 13%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">term</th>
<th style="text-align: right;">estimate</th>
<th style="text-align: right;">std.error</th>
<th style="text-align: right;">statistic</th>
<th style="text-align: right;">p.value</th>
<th style="text-align: right;">conf.low</th>
<th style="text-align: right;">conf.high</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">-3904.387</td>
<td style="text-align: right;">529.257</td>
<td style="text-align: right;">-7.377</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">-4945.450</td>
<td style="text-align: right;">-2863.324</td>
</tr>
<tr class="even">
<td style="text-align: left;">flipper_length_mm</td>
<td style="text-align: right;">27.429</td>
<td style="text-align: right;">3.176</td>
<td style="text-align: right;">8.638</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">21.182</td>
<td style="text-align: right;">33.675</td>
</tr>
<tr class="odd">
<td style="text-align: left;">speciesChinstrap</td>
<td style="text-align: right;">-748.562</td>
<td style="text-align: right;">81.534</td>
<td style="text-align: right;">-9.181</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">-908.943</td>
<td style="text-align: right;">-588.182</td>
</tr>
<tr class="even">
<td style="text-align: left;">speciesGentoo</td>
<td style="text-align: right;">90.435</td>
<td style="text-align: right;">88.647</td>
<td style="text-align: right;">1.020</td>
<td style="text-align: right;">0.308</td>
<td style="text-align: right;">-83.937</td>
<td style="text-align: right;">264.807</td>
</tr>
<tr class="odd">
<td style="text-align: left;">bill_length_mm</td>
<td style="text-align: right;">61.736</td>
<td style="text-align: right;">7.126</td>
<td style="text-align: right;">8.664</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">47.720</td>
<td style="text-align: right;">75.753</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="fragment">
<p><br></p>
<div class="question">
<p>The intercept -3904.387 is not meaningful. Let’s transform some variables to make this intercept meaningful.</p>
</div>
</div>
</section>
<section id="centering" class="slide level2 midi">
<h2>Centering</h2>
<ul>
<li>Centering a quantitative predictor means shifting every value by some constant <span class="math inline">\(C\)</span></li>
</ul>
<p><span class="math display">\[
X_{cent} = X  - C
\]</span></p>
<ul>
<li><p>One common type of centering is <strong>mean-centering</strong>, in which every value of a predictor is shifted by its mean</p></li>
<li><p>Only quantitative predictors are centered</p></li>
<li><p>Center all quantitative predictors in the model for ease of interpretation</p></li>
</ul>
<div class="question">
<p>What is one reason one might want to center the quantitative predictors? What is are the units of centered variables?</p>
</div>
</section>
<section id="centering-1" class="slide level2 midi">
<h2>Centering</h2>
<p>Use the <code>scale()</code> function with <code>center = TRUE</code> and <code>scale = FALSE</code> to mean-center variables</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a></a>penguins <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span></span>
<span id="cb14-2"><a></a>  <span class="fu">mutate</span>(<span class="at">flipper_length_cent =</span> <span class="fu">scale</span>(flipper_length_mm, <span class="at">center =</span> <span class="cn">TRUE</span>, <span class="at">scale =</span> <span class="cn">FALSE</span>), </span>
<span id="cb14-3"><a></a>         <span class="at">bill_length_cent =</span> <span class="fu">scale</span>(bill_length_mm, <span class="at">center =</span> <span class="cn">TRUE</span>, <span class="at">scale =</span> <span class="cn">FALSE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell fragment">

</div>
</section>
<section id="original-vs.-mean-centered-variable" class="slide level2">
<h2>Original vs.&nbsp;mean-centered variable</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Original variable</strong></p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="07-mlr_files/figure-revealjs/unnamed-chunk-17-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: right;">Mean</th>
<th style="text-align: right;">SD</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">200.915</td>
<td style="text-align: right;">14.062</td>
</tr>
</tbody>
</table>
</div>
</div>
</div><div class="column" style="width:50%;">
<p><strong>Mean-centered variable</strong></p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="07-mlr_files/figure-revealjs/unnamed-chunk-19-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: right;">Mean</th>
<th style="text-align: right;">SD</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0</td>
<td style="text-align: right;">14.062</td>
</tr>
</tbody>
</table>
</div>
</div>
</div></div>
<p><br></p>
</section>
<section id="using-mean-centered-variables-in-the-model" class="slide level2">
<h2>Using mean-centered variables in the model</h2>
<div class="question">
<p>How do you expect the model to change if we use <code>flipper_length_cent</code> and <code>bill_length_cent</code> in the model?</p>
</div>
<div class="fragment">
<div class="cell">
<div class="cell-output-display">
<table class="caption-top" style="width:100%;">
<colgroup>
<col style="width: 26%">
<col style="width: 11%">
<col style="width: 13%">
<col style="width: 13%">
<col style="width: 10%">
<col style="width: 11%">
<col style="width: 13%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">term</th>
<th style="text-align: right;">estimate</th>
<th style="text-align: right;">std.error</th>
<th style="text-align: right;">statistic</th>
<th style="text-align: right;">p.value</th>
<th style="text-align: right;">conf.low</th>
<th style="text-align: right;">conf.high</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">4318.066</td>
<td style="text-align: right;">45.674</td>
<td style="text-align: right;">94.542</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">4228.225</td>
<td style="text-align: right;">4407.908</td>
</tr>
<tr class="even">
<td style="text-align: left;">flipper_length_cent</td>
<td style="text-align: right;">27.429</td>
<td style="text-align: right;">3.176</td>
<td style="text-align: right;">8.638</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">21.182</td>
<td style="text-align: right;">33.675</td>
</tr>
<tr class="odd">
<td style="text-align: left;">speciesChinstrap</td>
<td style="text-align: right;">-748.562</td>
<td style="text-align: right;">81.534</td>
<td style="text-align: right;">-9.181</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">-908.943</td>
<td style="text-align: right;">-588.182</td>
</tr>
<tr class="even">
<td style="text-align: left;">speciesGentoo</td>
<td style="text-align: right;">90.435</td>
<td style="text-align: right;">88.647</td>
<td style="text-align: right;">1.020</td>
<td style="text-align: right;">0.308</td>
<td style="text-align: right;">-83.937</td>
<td style="text-align: right;">264.807</td>
</tr>
<tr class="odd">
<td style="text-align: left;">bill_length_cent</td>
<td style="text-align: right;">61.736</td>
<td style="text-align: right;">7.126</td>
<td style="text-align: right;">8.664</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">47.720</td>
<td style="text-align: right;">75.753</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section>
<section id="original-vs.-mean-centered-model" class="slide level2">
<h2>Original vs.&nbsp;mean-centered model</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: left;">term</th>
<th style="text-align: right;">estimate</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">-3904.387</td>
</tr>
<tr class="even">
<td style="text-align: left;">flipper_length_mm</td>
<td style="text-align: right;">27.429</td>
</tr>
<tr class="odd">
<td style="text-align: left;">speciesChinstrap</td>
<td style="text-align: right;">-748.562</td>
</tr>
<tr class="even">
<td style="text-align: left;">speciesGentoo</td>
<td style="text-align: right;">90.435</td>
</tr>
<tr class="odd">
<td style="text-align: left;">bill_length_mm</td>
<td style="text-align: right;">61.736</td>
</tr>
</tbody>
</table>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: left;">term</th>
<th style="text-align: right;">estimate</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">4318.066</td>
</tr>
<tr class="even">
<td style="text-align: left;">flipper_length_cent</td>
<td style="text-align: right;">27.429</td>
</tr>
<tr class="odd">
<td style="text-align: left;">speciesChinstrap</td>
<td style="text-align: right;">-748.562</td>
</tr>
<tr class="even">
<td style="text-align: left;">speciesGentoo</td>
<td style="text-align: right;">90.435</td>
</tr>
<tr class="odd">
<td style="text-align: left;">bill_length_cent</td>
<td style="text-align: right;">61.736</td>
</tr>
</tbody>
</table>
</div>
</div>
</div></div>
<div class="question">
<p>What has changed? What is the same?</p>
</div>
</section>
<section id="standardizing" class="slide level2 midi">
<h2>Standardizing</h2>
<ul>
<li>Standardizing a quantitative predictor mean shifting every value by the mean and dividing by the standard deviation of that variable</li>
</ul>
<p><span class="math display">\[
X_{std} = \frac{X - \bar{X}}{S_X}
\]</span></p>
<ul>
<li><p>Only quantitative predictors are standardized</p></li>
<li><p>Standardize all quantitative predictors in the model for ease of interpretation</p></li>
</ul>
<div class="question">
<p>What is one reason one might want to standardize the quantitative predictors? What is are the units of standardized variables?</p>
</div>
</section>
<section id="standardizing-1" class="slide level2">
<h2>Standardizing</h2>
<p>Use the <code>scale()</code> function with <code>center = TRUE</code> and <code>scale = TRUE</code> to standardized variables</p>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a></a>penguins <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span></span>
<span id="cb15-2"><a></a>  <span class="fu">mutate</span>(<span class="at">flipper_length_std =</span> <span class="fu">scale</span>(flipper_length_mm, <span class="at">center =</span> <span class="cn">TRUE</span>, <span class="at">scale =</span> <span class="cn">TRUE</span>), </span>
<span id="cb15-3"><a></a>         <span class="at">bill_length_std =</span> <span class="fu">scale</span>(bill_length_mm, <span class="at">center =</span> <span class="cn">TRUE</span>, <span class="at">scale =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell fragment">

</div>
</section>
<section id="original-vs.-standardized-variable" class="slide level2">
<h2>Original vs.&nbsp;standardized variable</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Original variable</strong></p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="07-mlr_files/figure-revealjs/unnamed-chunk-25-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: right;">Mean</th>
<th style="text-align: right;">SD</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">200.915</td>
<td style="text-align: right;">14.062</td>
</tr>
</tbody>
</table>
</div>
</div>
</div><div class="column" style="width:50%;">
<p><strong>Standardized variable</strong></p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="07-mlr_files/figure-revealjs/unnamed-chunk-27-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: right;">Mean</th>
<th style="text-align: right;">SD</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
</tr>
</tbody>
</table>
</div>
</div>
</div></div>
<p><br></p>
</section>
<section id="using-standardized-variables-in-the-model" class="slide level2">
<h2>Using standardized variables in the model</h2>
<div class="question">
<p>How do you expect the model to change if we use <code>flipper_length_std</code> and <code>bill_length_std</code> in the model?</p>
</div>
<div class="fragment">
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<colgroup>
<col style="width: 25%">
<col style="width: 12%">
<col style="width: 13%">
<col style="width: 13%">
<col style="width: 10%">
<col style="width: 12%">
<col style="width: 13%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">term</th>
<th style="text-align: right;">estimate</th>
<th style="text-align: right;">std.error</th>
<th style="text-align: right;">statistic</th>
<th style="text-align: right;">p.value</th>
<th style="text-align: right;">conf.low</th>
<th style="text-align: right;">conf.high</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">4318.066</td>
<td style="text-align: right;">45.674</td>
<td style="text-align: right;">94.542</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">4228.225</td>
<td style="text-align: right;">4407.908</td>
</tr>
<tr class="even">
<td style="text-align: left;">flipper_length_std</td>
<td style="text-align: right;">385.696</td>
<td style="text-align: right;">44.654</td>
<td style="text-align: right;">8.638</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">297.862</td>
<td style="text-align: right;">473.531</td>
</tr>
<tr class="odd">
<td style="text-align: left;">speciesChinstrap</td>
<td style="text-align: right;">-748.562</td>
<td style="text-align: right;">81.534</td>
<td style="text-align: right;">-9.181</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">-908.943</td>
<td style="text-align: right;">-588.182</td>
</tr>
<tr class="even">
<td style="text-align: left;">speciesGentoo</td>
<td style="text-align: right;">90.435</td>
<td style="text-align: right;">88.647</td>
<td style="text-align: right;">1.020</td>
<td style="text-align: right;">0.308</td>
<td style="text-align: right;">-83.937</td>
<td style="text-align: right;">264.807</td>
</tr>
<tr class="odd">
<td style="text-align: left;">bill_length_std</td>
<td style="text-align: right;">337.055</td>
<td style="text-align: right;">38.902</td>
<td style="text-align: right;">8.664</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">260.533</td>
<td style="text-align: right;">413.577</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section>
<section id="original-vs.-standardized-model" class="slide level2">
<h2>Original vs.&nbsp;standardized model</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: left;">term</th>
<th style="text-align: right;">estimate</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">-3904.387</td>
</tr>
<tr class="even">
<td style="text-align: left;">flipper_length_mm</td>
<td style="text-align: right;">27.429</td>
</tr>
<tr class="odd">
<td style="text-align: left;">speciesChinstrap</td>
<td style="text-align: right;">-748.562</td>
</tr>
<tr class="even">
<td style="text-align: left;">speciesGentoo</td>
<td style="text-align: right;">90.435</td>
</tr>
<tr class="odd">
<td style="text-align: left;">bill_length_mm</td>
<td style="text-align: right;">61.736</td>
</tr>
</tbody>
</table>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: left;">term</th>
<th style="text-align: right;">estimate</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">4318.066</td>
</tr>
<tr class="even">
<td style="text-align: left;">flipper_length_std</td>
<td style="text-align: right;">385.696</td>
</tr>
<tr class="odd">
<td style="text-align: left;">speciesChinstrap</td>
<td style="text-align: right;">-748.562</td>
</tr>
<tr class="even">
<td style="text-align: left;">speciesGentoo</td>
<td style="text-align: right;">90.435</td>
</tr>
<tr class="odd">
<td style="text-align: left;">bill_length_std</td>
<td style="text-align: right;">337.055</td>
</tr>
</tbody>
</table>
</div>
</div>
</div></div>
<div class="question">
<p>What has changed? What is the same?</p>
</div>
</section></section>
<section>
<section id="interaction-terms" class="title-slide slide level1 center">
<h1>Interaction terms</h1>

</section>
<section id="interaction-terms-1" class="slide level2">
<h2>Interaction terms</h2>
<ul>
<li>Sometimes the relationship between a predictor variable and the response depends on the value of another predictor variable.</li>
<li>This is an <strong>interaction effect</strong>.</li>
<li>To account for this, we can include <strong>interaction terms</strong> in the model.</li>
</ul>
</section>
<section id="bill-length-versus-species" class="slide level2">
<h2>Bill length versus species</h2>
<p>If the lines are not parallel, there is indication of a potential <strong>interaction effect</strong>, i.e., the slope of bill length may differ based on the species.</p>

<img data-src="07-mlr_files/figure-revealjs/unnamed-chunk-32-1.png" width="960" class="r-stretch"></section>
<section id="interaction-term-in-model" class="slide level2 smaller">
<h2>Interaction term in model</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a></a>penguin_int_fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(body_mass_g <span class="sc">~</span> flipper_length_mm <span class="sc">+</span> species <span class="sc">+</span> bill_length_mm <span class="sc">+</span> species <span class="sc">*</span> bill_length_mm,</span>
<span id="cb16-2"><a></a>      <span class="at">data =</span> penguins)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">term</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">estimate</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">std.error</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">statistic</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">p.value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">-4297.905</td>
<td style="text-align: right;">645.054</td>
<td style="text-align: right;">-6.663</td>
<td style="text-align: right;">0.000</td>
</tr>
<tr class="even">
<td style="text-align: left;">flipper_length_mm</td>
<td style="text-align: right;">27.263</td>
<td style="text-align: right;">3.175</td>
<td style="text-align: right;">8.586</td>
<td style="text-align: right;">0.000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">speciesChinstrap</td>
<td style="text-align: right;">1146.287</td>
<td style="text-align: right;">726.217</td>
<td style="text-align: right;">1.578</td>
<td style="text-align: right;">0.115</td>
</tr>
<tr class="even">
<td style="text-align: left;">speciesGentoo</td>
<td style="text-align: right;">54.716</td>
<td style="text-align: right;">619.934</td>
<td style="text-align: right;">0.088</td>
<td style="text-align: right;">0.930</td>
</tr>
<tr class="odd">
<td style="text-align: left;">bill_length_mm</td>
<td style="text-align: right;">72.692</td>
<td style="text-align: right;">10.642</td>
<td style="text-align: right;">6.831</td>
<td style="text-align: right;">0.000</td>
</tr>
<tr class="even">
<td style="text-align: left; background-color: rgba(220, 229, 178, 255) !important;">speciesChinstrap:bill_length_mm</td>
<td style="text-align: right; background-color: rgba(220, 229, 178, 255) !important;">-41.035</td>
<td style="text-align: right; background-color: rgba(220, 229, 178, 255) !important;">16.104</td>
<td style="text-align: right; background-color: rgba(220, 229, 178, 255) !important;">-2.548</td>
<td style="text-align: right; background-color: rgba(220, 229, 178, 255) !important;">0.011</td>
</tr>
<tr class="odd">
<td style="text-align: left; background-color: rgba(220, 229, 178, 255) !important;">speciesGentoo:bill_length_mm</td>
<td style="text-align: right; background-color: rgba(220, 229, 178, 255) !important;">-1.163</td>
<td style="text-align: right; background-color: rgba(220, 229, 178, 255) !important;">14.436</td>
<td style="text-align: right; background-color: rgba(220, 229, 178, 255) !important;">-0.081</td>
<td style="text-align: right; background-color: rgba(220, 229, 178, 255) !important;">0.936</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
<section id="interpreting-interaction-terms" class="slide level2">
<h2>Interpreting interaction terms</h2>
<ul>
<li>What the interaction means: The effect of bill length on the body mass is 41.035 less when the penguin is from the Chinstrap species compared to the effect for the Adelie species, holding all else constant.</li>
<li>Interpreting <code>bill_length_mm</code> for Chinstrap: For each additional millimeter in bill length, we expect the body mass of Chinstrap penguins to increase by 31.657 grams (72.692 - 41.035), holding all else constant.</li>
</ul>
</section>
<section id="summary" class="slide level2">
<h2>Summary</h2>
<p><br></p>
<div class="question">
<p>In general, how do</p>
<p>indicators for categorical predictors impact the model equation?</p>
<p>interaction terms impact the model equation?</p>
</div>
</section>
<section id="recap" class="slide level2">
<h2>Recap</h2>
<ul>
<li><p>Introduced multiple linear regression</p></li>
<li><p>Interpreted coefficients in the multiple linear regression model</p></li>
<li><p>Calculated predictions and associated intervals for multiple linear regression models</p></li>
<li><p>Mean-centered and standardized quantitative predictors</p></li>
<li><p>Used indicator variables for categorical predictors</p></li>
<li><p>Used interaction terms</p></li>
</ul>


</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<p><img src="../images/logo.png" class="slide-logo"></p>
<div class="footer footer-default">
<p><a href="https://sta210-sp25.netlify.app">🔗 STA 210 - Spring 2025</a></p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"8\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp("https:\/\/sta210-sp25\.netlify\.app");
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>